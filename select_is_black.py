# coding=utf-8
__author__ = 'songqi'

import MySQLdb
import json
import urllib2
import logging
import logging.handlers
logging.basicConfig(level=logging.DEBUG,
                format='%(asctime)s %(filename)s[line:%(lineno)d] %(levelname)s %(message)s',
                datefmt='%a, %d %b %Y %H:%M:%S',
                filename='myapp-tmp.log',
                filemode='w')

#################################################################################################
console = logging.StreamHandler()
console.setLevel(logging.INFO)
formatter = logging.Formatter('%(name)-12s: %(levelname)-8s %(message)s')
console.setFormatter(formatter)
logging.getLogger('').addHandler(console)

def select_is_black():
    #exSql = u"select id as 'user_id',real_name as 'name',mobile_num as 'mobile',id_num as 'idcreit' from user_info where mobile_num in('13755607856','18071636738','13761104825','15201724103','13127703562','18702131798','15858332385','17621098273','15800572800','18916480605','18676287942','18701705675','15221908906','13761289167','15921769883','15478469036','15700359688','13913730561','17717856320','18861835768','15170023701','18516288528','18601689487','15001857538','15201756130','18061083899','18943135951','15021743767','18109359289','18388042665','18606808288','18856984091','13320008020','17764512534','18516750054','13162903568','18818158281','13122928379','17602132545','17621797990','15751151998','18901449245','17640417700','18862735201','15706293366','13688030487','18604795995','15816870497','18704014304','15757164272','15145129000','13519492360','15757823235','13309697828','18045117800','17878687223','18013326676','15620590501','15308780090','15717007405','14778808400','15850720059','15958038490','18175591174','15251887368','18532320726','18270716907','13156545568','18888179605','18850433962','18850433962','15805150981','13519370318','18058336601','18390867246','13565410223','17704714069','18852317691','17708550791','13780702658','18893794792','18259235403','18844543277','15851396825','17607880698','15996828451','13118818824','17677107987','13367611117','15575819978','18487114624','18152462014','15878800212','18356063692','15757161427','15668562999','15555556731','18275742411','15943385777','17793621285','15007440020','18273809092','15974818410','15566677489','13082261139','15604415447','18861088110','15182226333','17608444237','18801603611','15289869356','15521317798','13804339961','13826649668','13739113565','13354312332','13576258324','18288988971','18326084373','17777406504','17829174986','18819109380','13478663706','18130557980','13706867333','18120163791','13316833087','13429348802','18583997000','15626204910','18277111004','18355106014','13377194327','18550001501','15911141830','13648378492','18013117030','15814443655','15700064980','15215850308','15123888717','18551068286','18883907159','15073078964','17581717537','15599610383','13359059987','15050520701','13637296012','18893470024','13797727654','17710146050','13951683557','15211401236','18288988971','18802441002','18025488433','18367827032','15245361085','18513234565','15652395763','13222071507','15626191662','13208003858','15522866761','15195971028','13084614601','18785908027','18228022813','15666661404','18674524923','15211805247','13361318386','13904096857','18941836468','18505680562','18942002577','15797759791','18243064672','13898763352','15874444633','13405360096','13555562666','15574738849','18102319340','18642748553','18347260573','18399909807','15025144914','15754000342','18722910016','17623083280','15640085429','17645079827','15771285386','17614492111','13624890159','15895203022','17770063982','13098973531','18077783972','18720951167','15160776194','15079125622','13252881998','15261500128','15995131911','15267789718','15700098143','13087746439','15578970090','18158915500','18862672611','18225887330','13698782893','15825529620','18547770209','13155558570','15757161235','18710914483','18813115352','15952087606','18815294780','15390752732','13767954957','13596002127','15680967829','18777527198','15200701813','13272434432','15573235649','15815479270','17679082757','18641210418','18505064009','18202800633','15624667454','15587129413','18604149963','18254794400','18130132227','18870421218','17665383310','15574327163','17706215697','15036222855','18362157501','18356023446','15855150136','18300008894','13078010962','18296150584','15504399335','18213817408','17770047322','18042650108','15278037724','13197163252','13243642243','13677001868','15559806543','18817001513','18648403156','18728532446','13734618713','15026090768','15500011253','15206187572','13464560661','18874267459','18702645464','17633066721','18785046425','18500587134','18119612532','13778735275','18281201093','15707992293','15206291815','18152094668','18682721137','13065109702','18924535079','17368533345','13024335388','13777800643','18808308773','15802988285','17628296874','15765305085','18502698900','18295004055','18348911161','18868948617','18561315307','18340024321','15719759260','13633830636','15295752759','15906148584','15895989023','15700062803','15709559737','15709559737','13588733614','18877856549','13029377211','18894331293','18888674275','18896641351','13947906717','13773751034','15223522352','18069406983','15524125183','17775988881','15866294733','15056678118','13257815675','15279248488','14709516420','15677117021','15878396790','18274997395','15147146745','15823780392','15674645314','17370074061','13988574440','15776578768','15802391223','15776868687','18487397849','18797110105','18723004531','18043015025','18510654333','13032409773','15943078937','15611119900','18853160773','17743151656','13457165054','15578882247','13341419807','13026906454','13916753324','18296771706','13929510310','17865655936','18504295354','18390804132','13304380491','18707442705','18226430018','13218057503','15673940115','15050503602','18861013335','18580708404','17633369692','18989488300','13605536290','15378318036','15243602567','15245884233','17601623241','13870091014','15268462218','15979965282','18856213400','18720551801','18328052044','15507783344','15014102696','18708734662','15077951353','15097054755','15540417084','18970881711','18262637807','15614050305','18119420617','18276051667','18818873251','13796150214','15521243046','18895685248','18205297985','15510232746','18005733935','18254321539','18205272246','18370262317','18761663037','18683723320','18370400806','15079965436','18850043769','18569527452','13301561095','15751001702','18673579031','13274509931','18692895994','18130374278','15882328752','18377150837','18379838518','18309223542','15277103398','18341324301','18811552159','18829248028','18644081161','18752331615','13719431629','15905690494','18451097678','15970679920','18384461850','15195950050','15278092942','15680238999','13502645532','18861336648','15665530518','15773126743','18585706878','17649808080','18571163877','15659051985','18051033967','13133810084','15088372505','18640608237','13623470950','15116005168','15559689022','18010827593','15881743414','13101662721','18721512680','15289664989','17600113102','18896525581','18604603137','13178359402','18550161794','15078315535','18819459659','15855147332','15651928350','17606503136','18376086016','15152119664','18356514887','13398500202','18056578518','15755099880','18751949946','15380978141','15638507672','18616549875','18362375958','15504576867','13145200484','18277137427','17783175350','13840009072','1525799220','18122714718','13627878504','18785488271','15211768038','18800560502','18649626041','18001298011','13664267909','13768939104','18072191767','15856950923','18079259396','18110458062','18297976849','15555677452','18365399269','15399883395','15757176544','18053617258','18374805014','18798092993','13773346511','18322856345','18322856345','18751707265','15616187431','17785691625','15251808389','15212776845','18547227494','18277807559','15189155741','13419649004','18056040575','18004426967','18943867460','15390035117','18867831323','18690296072','15108220451','18861855077','189935386894','18685071650','18993536894','18935298807','15240157561','13349014561','15849971700','15066116671','17802556570','18173341370','18674814782','18341358791','15702433248','18732039413','13664814659','15167647670','13920988982','18373193209','18389283001','18393100719','18622655382','13661367501','18827373832','13576594610','1307964056','13151110287','15926314993','18368723223','15950808103','18607316938','15877967024','13469749019','15620393528','15578888269','13768883654','18642072239','13263091218','17748090019','15778888409','15214457780','15347775713','18487239414','15574084904','17688391113','18878550147','18664607987','18378826774','13627327512','15378318036','17051280928','15676748077','13404250992','17788910955','17643172939','17745289993','18107089684','18715811322','13555391115','15607832839','18692609278','17638481090','18276743508','13005731243','18040102937','13348657701','18207660240','15115886534','13974398071','18348525204','13065915668','13704080110','18915193110','15326977147','13627883125','18262056025','15577270662','18270668136','18942267750','18875393153','18582132651','18007440066','15078107808','18677230403','15350008989','15580957624','18304031457','13619071527','18785183502','18890221455','13203035859','15277084117','18577837339','15576407387','15308430600','15595953646','13866111498','17770030997','13177878513','18777774541','18469156365','13177878513','18394038768','13006625452','13054302740','13842491432','13508469602','18341329831','18858660569','15577177710','18670846630','18586358753','18779259137','18569408408','18054184582','15769314063','18002339051','15181956572','15245915370','17679139365','18081011309','15984645927','15398771413','13789056906','15278226054','17361606976','17614168862','17688280990','17695070303','13845776120','18524212821','15002559752','13008782520','15326422433','18288466070','18206746638','15045111448','18181815388','13145207109','18978499707','18177785357','15894710936','18172402985','18645231788','15894710936','17794251924','15925221290','18487179315','17390080444','15985160262','18376787261','15721556785','15840545768','13005980646','13557422771','18309892260','15007817086','13999120440','13659477206','15025103263','15379044532','15597681209','151413000000','13765076750','15087196433','13190555766','15296975163','18595010159','18245321525','18997224402','15346466464','13629589357','13654542203','17612440129','13324057879','15046954142','15204672524','15140935766','15204672524','13689650512','18245982676','13007923870','13514893917','18904615222','18840782698','17640480629','13763607475','17014100302','15636253692','18778752775','13786482683','13398772497','18155262628','15557920323','17607000528','18935233575','17699910096','13162063156','15820744170','18326552505','18360906795','18376612834','15678117058','18842628278','17858509049','18275975291','18977020085','18307720087','13661327597','14740202682','15616620512','18879097205','18428303435','18645420121','18876768433','18341322535','15764342442','13883190203','13478699795','13762872508','13039874432','15177439449','18555223170','15765541924','13377854925','17843084138','18570483781','18225073245','17730123246','17625122022','15507834006','13922363613','18313009256','15074042695','18317964301','17721519313','15125607947','15380044118','15212778657','15576084776','17362843890','18726065316','18156496217','15083733874','18724400752','18970828920','18609861881','18229985563','15346919159','15096338675','18993971715','18375341583','18473493143','13907842169','18374844391','15609939295','15771282197','15651018735','15707972979','15707972979','15021829873','18007800785','18792144828','17684740227','18077214516','15595541019','15677171519','15659066233','15260741973','13013093266','17800623785','18851149953','13773580740','15958165875','13971289716','15008254724','15687818605','13089446200','18308413010','13033096900','15921549247','15180030752','15140464930','15114525250','13576903021','18969911902','18373690688','13079682643','13079682643','18508431880','15357982875','18133674162','18987793612','15067931330','15146709135','13337101957','18200179058','18361392380','18362386562','13557464825','18487732197','13139130914','18152008050','15680535889','18862673286','18829247521','18625797699','15996514327','17615012748','17512553975','15881045866','17695161344','17774004553','17665085217','18251360737','18334213411','13720422730','15587010119','18373863135','18624286889','15283215624','15679783930','18801297656','18351336790','18856461532','17615189639','18379167230','18158658280','15809871435','15757175132','18716241057','18761582387','18152609125','15905196329','15906699367','13905809789','15150534226','18896719355','15606105236','18394662467','18163910732','18443155539','13260773775','15940310040','13768044934','18768611642','13584782298','17326164710','18279112584','18577116101','18860128109','15225069647','18160800977','18847142441','15706290780','18798862053','15987440474','17374473337','18003620415','18377283663','13558017996','13767906085','13944715533','15115260972','18070733337','13977595233','18278265654','15764329417','15197299665','15979199384','18875083594','15504463523','18995324902','18048964525','18686558441','15164781133','13767201103','13481377688','13407774073','13212731675','18398737350','13617905063','18398737350','15299766623','13558057287','18242049473','17313214772','18710356629','18728447310','18169568837','13762637429','15978076093','13697528917','15773153977','18270893764','15074982998','18976739705','13907337187','13898157120','13203176280','15079208285','15887263347','18677904010','18773707633','18570635893','15974496213','18187615100','18408280532','15848211508','15123964002','13029653357','18999051572','15115399030','18487263794','13762882566','15645643323','18624286889','15516220632','18629948829','13088743585','18202431619','15568931924','18186882960','18382904351','15750514992','18487223681','18004011712','13251517385','13737097294','18298338257','17799561538','13651256325','18997221134','18775256273','18987887767','18341183664','18217100343','18378828717','15304552575','15085960785','18869701671','15566091885','18961135099','18342624085','13668717731','18598272248','15398615652','13844831530','18508750881','15754331783','18840177009','13614202225','18603632227','15848681424','18545005347','13485092946','18842814581','15722824126','15145586444','18845743213','15774323530','17684345038','13114512269','15840048983','13234302802');"
    #exSql = u"select id as 'user_id',real_name as 'name',mobile_num as 'mobile',id_num as 'idcreit' from user_info where mobile_num in('13637099509','13633093563','17750414956','18734555942','18773701860','17782011110','15948981921','18515080942','18874708420','13124337345','18973621883','15764936844','18585036553','15256588994','18374364128','17782011110','15382208923','15571850171','15286902105','18786122274','18182690984','18798793965','18376656384','18999051572','15111289905','13947246711','15598151118','13078730261','15132121173','18392889016','15519852273','18681885226','17614060952','15148774716','13327969023','18189866661','17782011110','18702643275','15599982444','18950308629','17609042632','18647952075','18734555945');"
    #exSql = u"select id as 'user_id',real_name as 'name',mobile_num as 'mobile',id_num as 'idcreit' from user_info where mobile_num in('13257815675');"
    #exSql = u"select id as 'user_id',real_name as 'name',mobile_num as 'mobile',id_num as 'idcreit' from user_info where mobile_num in('13755607856','18071636738','13761104825','15201724103','13127703562','18702131798','15858332385','17621098273','15800572800','18916480605','18676287942','18701705675','15221908906','13761289167','15921769883','15478469036','15700359688','13913730561','17717856320','18861835768','15170023701','18516288528','18601689487','15001857538','15201756130','18061083899','18943135951','15021743767','18109359289','18388042665','18606808288','18856984091','13320008020','17764512534','18516750054','13162903568','18818158281','13122928379','17602132545','17621797990','15751151998','18901449245','17640417700','18862735201','15706293366','13688030487','18604795995','15816870497','18704014304','15757164272','15145129000','13519492360','15757823235','13309697828','18045117800','17878687223','18013326676','15620590501','15308780090','15717007405','14778808400','15850720059','15958038490','18175591174','15251887368','18532320726','18270716907','13156545568','18888179605','18850433962','18850433962','15805150981','18058336601','18390867246','13565410223','17704714069','18852317691','13780702658','18893794792','18259235403','18844543277','15851396825','17607880698','15996828451','13118818824','17677107987','13367611117','15575819978','18487114624','18152462014','15757161427','15668562999','15555556731','18275742411','15943385777','17793621285','15007440020','18273809092','15974818410','15566677489','13082261139','15604415447','18861088110','15182226333','17608444237','18801603611','15289869356','15521317798','13804339961','13826649668','13739113565','13354312332','13576258324','18288988971','18326084373','17777406504','17829174986','18819109380','13478663706','18130557980','13706867333','18120163791','13316833087','13429348802','18583997000','15626204910','18277111004','18355106014','13377194327','18550001501','15911141830','13648378492','18013117030','15814443655','15700064980','15215850308','15123888717','18551068286','18883907159','15073078964','17581717537','15599610383','13359059987','15050520701','13637296012','18893470024','13797727654','17710146050','13951683557','15211401236','18288988971','18802441002','18025488433','18367827032','15245361085','18513234565','15652395763','13222071507','15626191662','13208003858','15522866761','15195971028','13084614601','18785908027','18228022813','15666661404','18674524923','15211805247','13361318386','13904096857','18941836468','18505680562','18942002577','15797759791','13898763352','15874444633','13405360096','13555562666','15574738849','18102319340','18642748553','18347260573','18399909807','15025144914','15754000342','18722910016','17623083280','15640085429','17645079827','15771285386','17614492111','13624890159','15895203022','17770063982','13098973531','18077783972','18720951167','15160776194','15079125622','13252881998','15261500128','15995131911','15267789718','15700098143','13087746439','15578970090','18158915500','18225887330','13698782893','15825529620','18547770209','13155558570','15757161235','18710914483','18813115352','15952087606','18815294780','15390752732','13767954957','13596002127','15680967829','18777527198','15200701813','13272434432','15573235649','15815479270','17679082757','18641210418','18505064009','18202800633','15624667454','15587129413','18604149963','18254794400','18130132227','18870421218','17665383310','15574327163','17706215697','15036222855','18362157501','18356023446','15855150136','18300008894','13078010962','18296150584','15504399335','17770047322','18042650108','15278037724','13197163252','13243642243','13677001868','15559806543','18817001513','18648403156','18728532446','15026090768','15500011253','15206187572','13464560661','18874267459','17633066721','18785046425','18500587134','18119612532','13778735275','18281201093','15707992293','15206291815','18152094668','18682721137','13065109702','18924535079','17368533345','13024335388','13777800643','18808308773','15802988285','17628296874','15765305085','18502698900','18295004055','18348911161','18868948617','','','','','18561315307','18340024321','15719759260','13633830636','15295752759','15906148584','15895989023','15700062803','15709559737','15709559737','13588733614','18877856549','13029377211','18894331293','18888674275','18896641351','13947906717','13773751034','15223522352','18069406983','15524125183','17775988881','15866294733','15056678118','13257815675','15279248488','14709516420','15677117021','15878396790','18274997395','15147146745','15823780392','15674645314','17370074061','13988574440','15776578768','15802391223','15776868687','18487397849','18043015025','18510654333','13032409773','15943078937','15611119900','18853160773','17743151656','13457165054','15578882247','13341419807','13026906454','13916753324','18296771706','13929510310','17865655936','18504295354','13304380491','18707442705','18226430018','13218057503','15673940115','15050503602','18861013335','18580708404','17633369692','18989488300','13605536290','15378318036','15243602567','15245884233','17601623241','13870091014','15268462218','15979965282','18856213400','18720551801','18328052044','15507783344','15014102696','18708734662','15077951353','15097054755','15540417084','18970881711','18262637807','15614050305','18119420617','18276051667','18818873251','13796150214','15521243046','18895685248','18205297985','15510232746','18005733935','18254321539','18205272246','18370262317','18761663037','18683723320','18370400806','15079965436','18850043769','18569527452','13301561095','15751001702','18673579031','13274509931','18692895994','18130374278','15882328752','18377150837','18379838518','18309223542','15277103398','18341324301','18811552159','18829248028','18644081161','18752331615','13719431629','15905690494','18451097678','15970679920','18384461850','15195950050','15278092942','15680238999','13502645532','18861336648','15665530518','15773126743','18585706878','17649808080','18571163877','15659051985','13133810084','15088372505','18640608237','13623470950','15116005168','15559689022','18010827593','15881743414','13101662721','18721512680','15289664989','17600113102','18896525581','18604603137','13178359402','18550161794','15078315535','18819459659','15855147332','15651928350','17606503136','18376086016','15152119664','18356514887','13398500202','18056578518','15755099880','18751949946','15380978141','15638507672','18616549875','18362375958','15504576867','13145200484','18277137427','17783175350','13840009072','1525799220','18122714718','13627878504','18785488271','15211768038','18800560502','18649626041','18001298011','13664267909','13768939104','18072191767','15856950923','18079259396','18110458062','18297976849','15555677452','18365399269','15399883395','15757176544','18374805014','18798092993','13773346511','18322856345','18322856345','18751707265','15616187431','17785691625','15251808389','15212776845','18547227494','18277807559','15189155741','13419649004','18056040575','18004426967','18943867460','15390035117','18867831323','18690296072','15108220451','18861855077','189935386894','','','','','18685071650','18993536894','18935298807','15240157561','13349014561','15849971700','15066116671','17802556570','18173341370','18674814782','18341358791','15702433248','18732039413','13664814659','15167647670','13920988982','18373193209','18389283001','18622655382','13661367501','18827373832','13576594610','1307964056','13151110287','15926314993','18368723223','15950808103','18607316938','15877967024','13469749019','15620393528','15578888269','13768883654','18642072239','13263091218','17748090019','15778888409','15214457780','15347775713','18487239414','15574084904','17688391113','18878550147','18664607987','18378826774','13627327512','15378318036','17051280928','15676748077','13404250992','17788910955','17643172939','17745289993','18107089684','18715811322','13555391115','15607832839','18692609278','17638481090','18276743508','13005731243','18040102937','13348657701','18207660240','15115886534','13974398071','18348525204','13065915668','13704080110','18915193110','15326977147','13627883125','18262056025','15577270662','18270668136','18942267750','18875393153','18582132651','18007440066','15078107808','18677230403','15350008989','15580957624','18304031457','13619071527','18785183502','18890221455','13203035859','15277084117','18577837339','15576407387','15308430600','15595953646','13866111498','17770030997','13177878513','18777774541','18469156365','13177878513','13006625452','13054302740','13842491432','13508469602','18341329831','18858660569','15577177710','18670846630','18586358753','18779259137','18569408408','18054184582','15769314063','18002339051','15181956572','15245915370','17679139365','18081011309','15984645927','15398771413','13789056906','15278226054','17361606976','17614168862','17688280990','17695070303','13845776120','18524212821','15002559752','13008782520','15326422433','18288466070','18206746638','15045111448','18181815388','13145207109','18177785357','15894710936','18172402985','18645231788','15894710936','17794251924','15925221290','18487179315','17390080444','15985160262','18376787261','15721556785','15840545768','13005980646','13557422771','18309892260','15007817086','13999120440','13659477206','15025103263','15379044532','15597681209','1.51413E+11','13765076750','15087196433','13190555766','15296975163','18595010159','18245321525','18997224402','15346466464','13629589357','13654542203','17612440129','13324057879','15046954142','15204672524','15140935766','15204672524','13689650512','18245982676','13007923870','13514893917','18904615222','17640480629','13763607475','17014100302','15636253692','18778752775','13786482683','13398772497','18155262628','15557920323','17607000528','18935233575','17699910096','13162063156','15820744170','18326552505','18360906795','15678117058','18842628278','17858509049','18275975291','18977020085','18307720087','13661327597','14740202682','15616620512','18879097205','18428303435','18645420121','18876768433','18341322535','15764342442','13883190203','13478699795','13762872508','13039874432','15177439449','18555223170','15765541924','13377854925','17843084138','18570483781','18225073245','17730123246','17625122022','15507834006','13922363613','18313009256','15074042695','18317964301','17721519313','15125607947','15380044118','15212778657','15576084776','17362843890','18726065316','18156496217','15083733874','18724400752','18970828920','18609861881','18229985563','15346919159','15096338675','18993971715','18375341583','18473493143','13907842169','18374844391','15609939295','15771282197','15651018735','15707972979','15707972979','15021829873','18007800785','18792144828','17684740227','18077214516','15595541019','15677171519','15659066233','15260741973','13013093266','17800623785','18851149953','13773580740','15958165875','13971289716','15008254724','15687818605','13089446200','18308413010','13033096900','15921549247','15180030752','15140464930','13576903021','18969911902','18373690688','13079682643','13079682643','18508431880','15357982875','18133674162','18987793612','15067931330','15146709135','13337101957','18200179058','18361392380','18362386562','13557464825','18487732197','13139130914','18152008050','15680535889','18862673286','18829247521','18625797699','15996514327','17615012748','17512553975','15881045866','17695161344','17774004553','17665085217','18251360737','18334213411','13720422730','15587010119','18373863135','18624286889','15283215624','15679783930','18856461532','17615189639','18379167230','18158658280','15809871435','15757175132','18716241057','18761582387','18152609125','15905196329','15906699367','13905809789','15150534226','18896719355','15606105236','18394662467','18163910732','18443155539','13260773775','15940310040','13768044934','18768611642','13584782298','17326164710','18279112584','18577116101','18860128109','15225069647','18160800977','18847142441','15706290780','15987440474','17374473337','18003620415','18377283663','13558017996','13767906085','13944715533','15115260972','18070733337','1397595233','18278265654','15764329417','15197299665','15979199384','18875083594','15504463523','18995324902','18048964525','18686558441','15164781133','13767201103','13481377688','13407774073','13212731675','18398737350','13617905063','18398737350','15299766623','13558057287','18242049473','17313214772','18710356629','18728447310','18169568837','13762637429','15978076093','13697528917','15773153977','18270893764','15074982998','18976739705','13907337187','13203176280','15079208285','15887263347','18677904010','18773707633','18570635893','15974496213','18187615100','18408280532','15848211508','15123964002','13029653357','15115399030','18487263794','13762882566','15645643323','18624286889','15516220632','18629948829','13088743585','18202431619','15568931924','18186882960','18382904351','15750514992','18487223681','18004011712','13251517385','13737097294','18298338257','17799561538','13651256325','18997221134','18775256273','18987887767','18341183664','18217100343','18378828717','15304552575','15085960785','18869701671','15566091885','18961135099','18342624085','13668717731','18598272248','15398615652','13844831530','18508750881','18840177009','13614202225','18603632227','15848681424','18545005347','13485092946','18842814581','15722824126','15145586444','18845743213','15774323530','17684345038','13114512269','15840048983','13234302802','18372279577','15927247177','13971180100','15272462674','13407294941','17709471980','15871454636','15927199314','15141658264','13683205645','15146836218');"
    exSql = u"select id as 'user_id',real_name as 'name',mobile_num as 'mobile',id_num as 'idcreit' from user_info where mobile_num in('13349014561');"

    dbHost = '172.16.0.101'
    dbUser = 'tester'
    dbPassword = 'tester!@#$'
    dbName = 'db_nono'
    url = "http://risk.stb.com/risk-app/testapi/tongdun"
    dbConn = MySQLdb.connect(dbHost, dbUser, dbPassword, dbName)
    cursor = dbConn.cursor()
    sqlResult = cursor.execute(exSql)
    countNum = 1
    for i in cursor.fetchmany(sqlResult):
        print countNum
        countNum += 1
        tmp_dict = {}
        if i[1] is None:
            pass
        else:
            tmp_dict['idNumber'] = i[3]
            tmp_dict['name'] = i[1]
            tmp_dict['mobile'] = i[2]
            data_json = str(json.dumps(tmp_dict, ensure_ascii=False))
            logging.info( '=========================================================>tongdun_result<================================================================')
            logging.info(data_json)
            headers = {'Content-Type': 'application/json'}
            request = urllib2.Request(url=url, headers=headers, data=data_json)
            response = urllib2.urlopen(request)
            for k in response:
                res = json.loads(k)
                user_id = res['errorCode']
                user_name = res['errorMessage']
                logging.info(u'user_name&user_id')
                logging.info(user_name)
                logging.info(user_id)
                user_data = res['data']
                logging.info(user_data)
                print user_data['oneDayManyAccountInDevice']
                oneDayManyAccountInDevice=user_data['oneDayManyAccountInDevice']
                idNameHitTongDunFuzzyLoanBlackList=user_data['idNameHitTongDunFuzzyLoanBlackList']
                idHitTongDunCourtExecuteList=user_data['idHitTongDunCourtExecuteList']
                try:
                    tongdunUUID=user_data['tongdunUUID']
                except KeyError:
                    tongdunUUID='-1'
                idHitTongDunLegalPersonBlackList=user_data['idHitTongDunLegalPersonBlackList']
                hitTongDunRepeateLoansixMonth=user_data['hitTongDunRepeateLoansixMonth']
                mobileHitTongDunLoanBlackIntermediary=user_data['mobileHitTongDunLoanBlackIntermediary']
                oneHourMuchAccountInDevice=user_data['oneHourMuchAccountInDevice']
                hitTongDunRepeateLoanThreeMonth=user_data['hitTongDunRepeateLoanThreeMonth']
                idNameHitTongDunFuzzyCourtBlackList=user_data['idNameHitTongDunFuzzyCourtBlackList']
                contactMobileHitTongDunLoanBlackIntermediary=user_data['contactMobileHitTongDunLoanBlackIntermediary']
                idHitTongDunLoanBlackList=user_data['idHitTongDunLoanBlackList']
                mobileHitTongDunLoanBlackList=user_data['mobileHitTongDunLoanBlackList']
                mobileHitTongDunLegalPersonBlackList=user_data['mobileHitTongDunLegalPersonBlackList']
                oneHourManyAccountInDevice=user_data['oneHourManyAccountInDevice']
                idHitTongDunCourtBlackList=user_data['idHitTongDunCourtBlackList']
                oneDayMuchAccountInDevice=user_data['oneDayMuchAccountInDevice']
                idNameHitTongDunFuzzyCourtExecuteList=user_data['idNameHitTongDunFuzzyCourtExecuteList']
                hitTongDunRepeateLoanOneWeekend=user_data['hitTongDunRepeateLoanOneWeekend']
                moveDistanceExceptionInDevice=user_data['moveDistanceExceptionInDevice']
                mobileHitTongDunLostContactList=user_data['mobileHitTongDunLostContactList']
                tongdunFinalScore=user_data['tongdunFinalScore']
                sevenDayMuchAccountInDevice=user_data['sevenDayMuchAccountInDevice']
                oneHourMuchAccountAll=user_data['oneHourMuchAccountAll']
                hitTongDunRepeateLoanOneMonth=user_data['hitTongDunRepeateLoanOneMonth']
                tongDunRepeateLoanOneWeekendDivOneMonth=user_data['tongDunRepeateLoanOneWeekendDivOneMonth']
                idHitTongDunCrimeBlackList=user_data['idHitTongDunCrimeBlackList']
                sevenDayMuchAccountAll=user_data['sevenDayMuchAccountAll']
                idHitTongDunLostContactList=user_data['idHitTongDunLostContactList']
                borrowTimeShortInDevice=user_data['borrowTimeShortInDevice']
                oneDayMuchAccountAll=user_data['oneDayMuchAccountAll']

                if tongdunUUID is None:
                    logging.info("No tongdunUUID")
                    pass
                else:
                    if oneDayManyAccountInDevice.__eq__('1'):
                        logging.info("This is Black: oneDayManyAccountInDevice")
                        break
                    elif idNameHitTongDunFuzzyLoanBlackList.__eq__('1'):
                        logging.info("This is Black: idNameHitTongDunFuzzyLoanBlackList")
                        break
                    elif idHitTongDunCourtExecuteList.__eq__('1'):
                        logging.info("This is Black: idHitTongDunCourtExecuteList")
                        break
                    elif idHitTongDunLegalPersonBlackList.__eq__('1'):
                        logging.info("This is Black: idHitTongDunLegalPersonBlackList")
                        break
                    elif hitTongDunRepeateLoansixMonth.__eq__('1'):
                        logging.info("This is Black: hitTongDunRepeateLoansixMonth")
                        break
                    elif mobileHitTongDunLoanBlackIntermediary.__eq__('1'):
                        logging.info("This is Black: mobileHitTongDunLoanBlackIntermediary")
                        break
                    elif oneHourMuchAccountInDevice.__eq__('1'):
                        logging.info("This is Black: oneHourMuchAccountInDevice")
                        break
                    elif int(hitTongDunRepeateLoanThreeMonth) > 12:
                        logging.info("This is Black: hitTongDunRepeateLoanThreeMonth")
                        break
                    elif idNameHitTongDunFuzzyCourtBlackList.__eq__('1'):
                        logging.info("This is Black: idNameHitTongDunFuzzyCourtBlackList")
                        break
                    elif contactMobileHitTongDunLoanBlackIntermediary.__eq__('1'):
                        logging.info("This is Black: contactMobileHitTongDunLoanBlackIntermediary")
                        break
                    elif idHitTongDunLoanBlackList.__eq__('1'):
                        logging.info("This is Black: idHitTongDunLoanBlackList")
                        break
                    elif mobileHitTongDunLoanBlackList.__eq__('1'):
                        logging.info("This is Black: mobileHitTongDunLoanBlackList")
                        break
                    elif mobileHitTongDunLegalPersonBlackList.__eq__('1'):
                        logging.info("This is Black: mobileHitTongDunLegalPersonBlackList")
                        break
                    elif oneHourManyAccountInDevice.__eq__('1'):
                        logging.info("This is Black: oneHourManyAccountInDevice")
                        break
                    elif idHitTongDunCourtBlackList.__eq__('1'):
                        logging.info("This is Black: idHitTongDunCourtBlackList")
                        break
                    elif oneDayMuchAccountInDevice.__eq__('1'):
                        logging.info("This is Black: oneDayMuchAccountInDevice")
                        break
                    elif idNameHitTongDunFuzzyCourtExecuteList.__eq__('1'):
                        logging.info("This is Black: idNameHitTongDunFuzzyCourtExecuteList")
                        break
                    elif int(hitTongDunRepeateLoanOneWeekend) > 5:
                        logging.info("This is Black: hitTongDunRepeateLoanOneWeekend")
                        break
                    elif moveDistanceExceptionInDevice.__eq__('1'):
                        logging.info("This is Black: moveDistanceExceptionInDevice")
                        break
                    elif mobileHitTongDunLostContactList.__eq__('1'):
                        logging.info("This is Black: mobileHitTongDunLostContactList")
                        break
                    elif int(tongdunFinalScore) > 80:
                        logging.info("This is Black: tongdunFinalScore")
                        break
                    elif sevenDayMuchAccountInDevice.__eq__('1'):
                        logging.info("This is Black: sevenDayMuchAccountInDevice")
                        break
                    elif oneHourMuchAccountAll.__eq__('1'):
                        logging.info("This is Black: oneHourMuchAccountAll")
                        break
                    elif int(hitTongDunRepeateLoanOneMonth) > 8:
                        logging.info("This is Black: hitTongDunRepeateLoanOneMonth")
                        break
                    elif tongDunRepeateLoanOneWeekendDivOneMonth.__eq__('1'):
                        logging.info("This is Black: tongDunRepeateLoanOneWeekendDivOneMonth")
                        break
                    elif idHitTongDunCrimeBlackList.__eq__('1'):
                        logging.info("This is Black: idHitTongDunCrimeBlackList")
                        break
                    elif sevenDayMuchAccountAll.__eq__('1'):
                        logging.info("This is Black: sevenDayMuchAccountAll")
                        break
                    elif idHitTongDunLostContactList.__eq__('1'):
                        logging.info("This is Black: idHitTongDunLostContactList")
                        break
                    elif borrowTimeShortInDevice.__eq__('1'):
                        logging.info("This is Black: borrowTimeShortInDevice")
                        break
                    elif oneDayMuchAccountAll.__eq__('1'):
                        logging.info("This is Black: oneDayMuchAccountAll")
                        break
                    else:
                        logging.info(" This is not black")

    cursor.close()
    dbConn.close()

select_is_black()
"""{"idNumber": "320283198709230026", "mobile": "18616591282", "name": "吕珺珺"}"""
